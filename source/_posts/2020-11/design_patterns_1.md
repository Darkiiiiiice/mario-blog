---
title: 设计模式 (一)
date: '2020-11-25'
category: 设计模式
author: MarioMang
cover: /resources/images/default_cover.gif
---

# 设计模式 （一)

## 基础原则

### 单一职责原则
> 单一职责原则(Single Responsibility Principle,SRP) 应该有且只有一个原因引起类的变化

1. 单一职责原则好处:
    * 类的复杂性降低,实现什么职责都有清晰明确的定义
    * 可读性提高
    * 可维护性提高
    * 变更引起的风险性降低

> 单一职责原则,从纯理论的方面来讲,是非常优秀的,但是受限制的因素非常多  
> 接口一定要做到单一职责,类的设计尽量

### 里氏替换原则
> 里氏替换原则(Liskov Substitution Principle,LSP)

1. 第一种定义:
    如果对每一个类型为S的对象o1,都有类型为T的对象o2,使得以T定义的所有程序P在所有对象o1都替换为o2时,程序P的行为没有发生变化,那么类型S是类型T的子类型
2. 第二种定义:
    所有引用基类的地方必须能透明地使用其子类的对象

----
1. 子类必须完全实现父类的方法
2. 子类可以有自己的个性
3. 覆盖或实现父类的方法时输入参数可以被放大
4. 覆写或实现父类的方法时输出结果可以被缩小

### 依赖倒置原则
> 依赖倒置原则(Dependence Inversion Principle, DIP)  
1. 高层模块不应该依赖低层模块, 两者都应该依赖其抽象
2. 抽象不应该依赖细节
3. 细节应该依赖抽象
---
依赖倒置在java中的表现就是
1. 模块间的依赖通过抽象发生, 实现类之间不发生直接的依赖关系, 其依赖关系是通过接口或抽象类产生
2. 接口或抽象类不依赖于实现类
3. 实现类依赖接口或抽象类
--- 
依赖的三种写法
1. 构造函数传递依赖对象
> 在类中通过构造函数声明依赖对象, 按照依赖注入的说法, 这种方式叫做构造函数注入
2. Setter方法传递依赖对象
> 在抽象中设置 Setter 方法声明依赖关系, 依照依赖注入的说法, 这是 Setter 依赖注入
3. 接口声明依赖对象
> 在接口的方法中声明依赖对象, 该方法也叫做接口注入

### 接口隔离原则

1. 客户端不应该依赖他不需要的接口
2. 类间的依赖应该建立在最小的接口上

### 迪米特法则
> 迪米特法则(Law of Demeter, LoD) 也称为最少知识原则  
> 一个对象应该对其他对象有最少的了解

### 开闭原则
> 开闭原则, 一个软件实体, 应该对扩展开放, 对修改关闭
为什么要采用开闭原则
1. 开闭原则是最基础的一个原则
2. 开闭原则可以提高复用性
3. 开闭原则可以提高可维护性
4. 面向对象开发的要求
---
如何使用开闭原则
1. 抽象约束
    > 通过接口或抽象类可以约束一组可能变化的行为, 并且能够实现对扩展开放
2. 元数据(metadata) 控制模块行为
    > 元数据: 用来描述环境和数据的数据  
    > 反转控制就是典型的元数据控制模块行为
3. 指定项目章程
    > 约定优先于配置
4. 封装变化
    > 1. 将相同的变化封装到一个接口或抽象类中
    > 2. 将不同的变化封装到不同接口或抽象类中