---
title: MySQL(二)
date: '2020-12-19 23:00:00'
category: MySQL
author: MarioMang
cover: /resources/images/default_cover.gif
updated: '2020-12-19 23:00:00'
---

# MySQL(二)

## MySQL 基准测试
基准测试是针对系统设计的一种压力测试

### 基准测试
基准测试可以完成以下工作:
* 验证系统功能是否正常
* 重现系统中的异常
* 测试系统性能
* 对系统进行压力测试

### 策略
* 针对整个系统的整体测试, 集成式
* 单独测试, 单组件式

* 以下情况需要做集成式测试
	* 需要测试整体应用的性能
	* MySQL 不是性能瓶颈
	* 需要发现整体应用的问题

* 以下情况只需要单独测试
	* 比较不同scheme查询性能
	* 针对应用中具体需求的测试

#### 指标

* 吞吐量
	吞吐量是指单位时间内的事务处理数量
* 响应时间或者延迟
	用于测试任务所需的整体时间
* 并发性
	任意时间有多少同时发生的请求
* 可扩展性
	给系统增加负载, 在理想情况下, 会增加相应的结果

### 方法

常见错误:

* 使用真实数据的子集而不是全集
* 使用错误的数据分布
* 使用不真实的参数分布
* 只做单用户测试
* 在单台服务器上测试分布式应用
* 与真实用户行为不匹配
* 反复执行同一个查询
* 没有检查错误
* 忽略了系统预热的过程
* 使用默认的服务器配置
* 持续测试时间太短

测试大致步骤
1. 明确测试目标, 决定是采用标准的基准测试还是设计专用的测试
2. 运行足够长时间的基准测试, 系统预热完成后, 对系统进行长时间的测试, 确保测试能够体现系统的长期行为
3. 获取系统性能和状态, 尽可能多的收集被测试系统的信息, 诸如CPU使用率, 磁盘I/O, 网络流量统计等等指标
4. 获取准确的测试结果
5. 根据测试的结果分析
